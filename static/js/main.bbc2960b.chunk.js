(this["webpackJsonpreact_todo-app"]=this["webpackJsonpreact_todo-app"]||[]).push([[0],{11:function(e,t,n){e.exports=n(18)},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),o=n.n(l),c=(n(16),n(17),n(10)),i=n(5),u=n(1),s=n(2),d=n(4),m=n(3),f=n(9),h=n.n(f),p=n(6),g=n.n(p),v=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,l=new Array(a),o=0;o<a;o++)l[o]=arguments[o];return(e=t.call.apply(t,[this].concat(l))).state={currentValue:"",isEditing:!1},e.textInput=r.a.createRef(),e.startEdit=function(){e.setState({isEditing:!0,currentValue:e.props.text},(function(){e.textInput.current.focus()}))},e.handleChange=function(t){0!==t.target.value.trim().length?e.setState({currentValue:t.target.value}):e.setState({currentValue:t.target.value.trim()})},e.handleKeyPress=function(t,n){if("Enter"===t.key){var a=e.state.currentValue;(0,e.props.onTextChanged)(n,a),e.setState({currentValue:"",isEditing:!1})}else"Escape"===t.key&&e.setState({currentValue:"",isEditing:!1})},e.blurHandler=function(t){e.props.onTextChanged(t,e.state.currentValue),e.setState({currentValue:"",isEditing:!1})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isEditing,a=t.currentValue,l=this.props,o=l.id,c=l.done,i=l.text,u=l.toggleItem,s=l.onDelete;return r.a.createElement("li",{onDoubleClick:this.startEdit,className:g()({completed:c,editing:n})},r.a.createElement("div",{className:"view"},r.a.createElement("input",{type:"checkbox",className:"toggle",id:"todo-".concat(o),checked:c,onChange:function(){return u(o)}}),r.a.createElement("label",{htmlFor:"todo-".concat(o)},i),r.a.createElement("button",{type:"button",className:"destroy",onClick:function(){return s(o)}})),n&&r.a.createElement("input",{type:"text",className:"edit",value:a,onChange:this.handleChange,onKeyUp:function(t){return e.handleKeyPress(t,o)},onBlur:function(){return e.blurHandler(o)},ref:this.textInput}))}}]),n}(r.a.Component),E=function(e){var t=e.todos,n=e.toggleItem,a=e.onDelete,l=e.onTextChanged;return r.a.createElement("ul",{className:"todo-list"},t.map((function(e){return r.a.createElement(v,{key:e.id,id:e.id,text:e.text,done:e.done,toggleItem:n,onDelete:a,onTextChanged:l})})))},b=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={newItemText:""},e.handleAddItem=function(t){t.preventDefault(),(0,e.props.addItem)(e.state.newItemText),e.setState({newItemText:""})},e.handleChange=function(t){var n=t.target;e.setState({newItemText:n.value})},e}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.newItemText;return r.a.createElement("form",{onSubmit:this.handleAddItem},r.a.createElement("input",{className:"new-todo",placeholder:"What needs to be done?",value:e,onChange:this.handleChange}))}}]),n}(r.a.Component),k=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){return Object(u.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){var e=this.props,t=e.todos,n=e.clickHandler,a=e.clearCompleted,l=e.filterSelected,o=t.filter((function(e){return!e.done}));return r.a.createElement("footer",{className:"footer"},r.a.createElement("span",{className:"todo-count"},"".concat(o.length," items left")),r.a.createElement("ul",{className:"filters"},r.a.createElement("li",null,r.a.createElement("a",{onClick:function(e){return n(e)},href:"#/",className:g()({selected:"all"===l}),name:"all"},"All")),r.a.createElement("li",null,r.a.createElement("a",{className:g()({selected:"active"===l}),onClick:function(e){return n(e)},href:"#/active",name:"active"},"Active")),r.a.createElement("li",null,r.a.createElement("a",{className:g()({selected:"completed"===l}),onClick:function(e){return n(e)},href:"#/completed",name:"completed"},"Completed"))),t.some((function(e){return!0===e.done}))&&r.a.createElement("button",{type:"button",className:"clear-completed",onClick:function(){return a()}},"Clear completed"))}}]),n}(r.a.PureComponent),C=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(u.a)(this,n);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={todos:[],checkedAll:!1,filterSelected:"all"},e.checkAll=function(t){var n=t.target;e.setState((function(e){var t=e.todos,a=e.checkedAll;return{todos:t.map((function(e){return Object(i.a)(Object(i.a)({},e),{},{done:n.checked})})),checkedAll:!a}}))},e.addItem=function(t){""!==t.trim()&&e.setState((function(e){var n=e.todos,a={id:h()(),done:!1,text:t};return{todos:[].concat(Object(c.a)(n),[a]),checkedAll:!1}}))},e.clickHandler=function(t){var n=t.target.name;e.setState({filterSelected:n})},e.clearCompleted=function(){e.setState((function(e){return{todos:e.todos.filter((function(e){return!e.done})),checkedAll:!1}}))},e.handleDelete=function(t){e.setState((function(e){return{todos:e.todos.filter((function(e){return e.id!==t}))}}))},e.toggleItem=function(t){e.setState((function(e){var n=e.todos.map((function(e){return e.id===t?Object(i.a)(Object(i.a)({},e),{},{done:!e.done}):e})),a=n.every((function(e){return!0===e.done}));return{todos:n,checkedAll:a}}))},e.changeText=function(t,n){e.setState((function(a){var r=a.todos;return{todos:r.map((function(a){return a.id===t&&""!==n?Object(i.a)(Object(i.a)({},a),{},{text:n}):(a.id===t&&""===n&&e.setState((function(){return{todos:r.filter((function(e){return e.id!==t}))}})),a)}))}}))},e.todosFilter=function(e,t){switch(t){case"completed":return e.filter((function(e){return e.done}));case"active":return e.filter((function(e){return!e.done}));default:return e}},e}return Object(s.a)(n,[{key:"componentDidMount",value:function(){if(null!==localStorage.getItem("todos")){var e=JSON.parse(localStorage.getItem("todos"));this.setState(e)}}},{key:"componentDidUpdate",value:function(){var e=this.state.todos;localStorage.setItem("todos",JSON.stringify({todos:e}))}},{key:"render",value:function(){var e=this.state,t=e.todos,n=e.checkedAll,a=e.filterSelected;return r.a.createElement("section",{className:"todoapp"},r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"todos")),r.a.createElement(b,{addItem:this.addItem}),r.a.createElement("section",{className:"main"},t.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("input",{type:"checkbox",id:"toggle-all",checked:n,className:"toggle-all",onChange:this.checkAll}),r.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete")):null,r.a.createElement(E,{todos:this.todosFilter(t,a),onDelete:this.handleDelete,toggleItem:this.toggleItem,onTextChanged:this.changeText})),t.length?r.a.createElement(k,{todos:t,clickHandler:this.clickHandler,clearCompleted:this.clearCompleted,filterSelected:a}):null)}}]),n}(r.a.Component);o.a.render(r.a.createElement(C,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.bbc2960b.chunk.js.map